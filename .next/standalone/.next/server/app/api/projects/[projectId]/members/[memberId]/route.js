"use strict";(()=>{var e={};e.id=717,e.ids=[717],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8345:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>j,patchFetch:()=>b,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>l,staticGenerationAsyncStorage:()=>u});var o={};t.r(o),t.d(o,{DELETE:()=>p,dynamic:()=>m});var s=t(9303),a=t(8716),n=t(670),i=t(7070);let m="force-dynamic";async function p(e,{params:r}){try{let{projectId:e,memberId:o}=r;if(!e||!o)return i.NextResponse.json({message:"ID do projeto e ID do membro s\xe3o obrigat\xf3rios"},{status:400});let{PrismaClient:s}=await Promise.resolve().then(t.t.bind(t,3524,23)),a=new s;try{let r=await a.projectMember.findUnique({where:{id:o},include:{user:!0}});if(!r)return i.NextResponse.json({message:"Membro n\xe3o encontrado"},{status:404});if("GESTOR"===r.role&&await a.projectMember.count({where:{projectId:e,role:"GESTOR",status:"ATIVO"}})<=1)return i.NextResponse.json({message:"N\xe3o \xe9 poss\xedvel remover o \xfaltimo gestor do projeto"},{status:400});return await a.projectMember.delete({where:{id:o}}),i.NextResponse.json({message:"Membro removido com sucesso"})}finally{await a.$disconnect()}}catch(e){return console.error("Erro ao remover membro:",e),i.NextResponse.json({message:"Erro interno do servidor"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/projects/[projectId]/members/[memberId]/route",pathname:"/api/projects/[projectId]/members/[memberId]",filename:"route",bundlePath:"app/api/projects/[projectId]/members/[memberId]/route"},resolvedPagePath:"/Users/jvalegri/tcc-jvalegri-1/app/api/projects/[projectId]/members/[memberId]/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:u,serverHooks:l}=d,j="/api/projects/[projectId]/members/[memberId]/route";function b(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:u})}}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,972],()=>t(8345));module.exports=o})();