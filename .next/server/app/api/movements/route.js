"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/movements/route";
exports.ids = ["app/api/movements/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmovements%2Froute&page=%2Fapi%2Fmovements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmovements%2Froute.ts&appDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmovements%2Froute&page=%2Fapi%2Fmovements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmovements%2Froute.ts&appDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jvalegri_tcc_jvalegri_1_app_api_movements_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/movements/route.ts */ \"(rsc)/./app/api/movements/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/movements/route\",\n        pathname: \"/api/movements\",\n        filename: \"route\",\n        bundlePath: \"app/api/movements/route\"\n    },\n    resolvedPagePath: \"/Users/jvalegri/tcc-jvalegri-1/app/api/movements/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jvalegri_tcc_jvalegri_1_app_api_movements_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/movements/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtb3ZlbWVudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1vdmVtZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1vdmVtZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmp2YWxlZ3JpJTJGdGNjLWp2YWxlZ3JpLTElMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGanZhbGVncmklMkZ0Y2MtanZhbGVncmktMSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUztBQUN0RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvP2ExNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2p2YWxlZ3JpL3RjYy1qdmFsZWdyaS0xL2FwcC9hcGkvbW92ZW1lbnRzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tb3ZlbWVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tb3ZlbWVudHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21vdmVtZW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qdmFsZWdyaS90Y2MtanZhbGVncmktMS9hcHAvYXBpL21vdmVtZW50cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbW92ZW1lbnRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmovements%2Froute&page=%2Fapi%2Fmovements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmovements%2Froute.ts&appDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/movements/route.ts":
/*!************************************!*\
  !*** ./app/api/movements/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const projectId = searchParams.get(\"projectId\");\n        if (!projectId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"ID do projeto \\xe9 obrigat\\xf3rio.\"\n            }, {\n                status: 400\n            });\n        }\n        // Buscar movimentações do projeto específico\n        const movements = await prisma.movementRecord.findMany({\n            where: {\n                projectId: projectId\n            },\n            include: {\n                user: {\n                    select: {\n                        name: true\n                    }\n                },\n                material: {\n                    select: {\n                        name: true,\n                        type: true\n                    }\n                }\n            },\n            orderBy: {\n                timestamp: \"desc\"\n            }\n        });\n        // Transformar dados para o formato esperado pelo frontend\n        const transformedMovements = movements.map((movement)=>({\n                id: movement.id,\n                userId: movement.userId,\n                userName: movement.user.name || \"Usu\\xe1rio\",\n                actionType: movement.type === \"entry\" ? \"entrada\" : \"sa\\xedda\",\n                materialId: movement.materialId,\n                materialName: movement.material.name,\n                materialCategory: movement.material.type || \"Geral\",\n                quantity: movement.quantity,\n                date: movement.timestamp,\n                location: \"Local do Projeto\",\n                justification: \"Movimenta\\xe7\\xe3o de estoque\" // Campo não existe no schema atual\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(transformedMovements);\n    } catch (error) {\n        console.error(\"Erro ao buscar movimenta\\xe7\\xf5es:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Erro interno do servidor.\"\n        }, {\n            status: 500\n        });\n    } finally{\n        await prisma.$disconnect();\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        console.log(\"POST /api/movements - Body recebido:\", body);\n        const { quantity, type, userId, materialId, projectId, justification = \"Movimenta\\xe7\\xe3o de estoque\" } = body;\n        console.log(\"POST /api/movements - Dados extra\\xeddos:\", {\n            quantity,\n            type,\n            userId,\n            materialId,\n            projectId,\n            justification\n        });\n        // Validação detalhada dos campos obrigatórios\n        const validationErrors = [];\n        if (!quantity && quantity !== 0) {\n            validationErrors.push(\"Quantidade \\xe9 obrigat\\xf3ria\");\n        }\n        if (!type) {\n            validationErrors.push(\"Tipo \\xe9 obrigat\\xf3rio\");\n        }\n        if (!userId) {\n            validationErrors.push(\"Usu\\xe1rio \\xe9 obrigat\\xf3rio\");\n        }\n        if (!materialId) {\n            validationErrors.push(\"Material \\xe9 obrigat\\xf3rio\");\n        }\n        if (!projectId) {\n            validationErrors.push(\"Projeto \\xe9 obrigat\\xf3rio\");\n        }\n        if (validationErrors.length > 0) {\n            console.log(\"POST /api/movements - Valida\\xe7\\xe3o falhou:\", validationErrors);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Campos obrigat\\xf3rios n\\xe3o preenchidos: \" + validationErrors.join(\", \"),\n                errors: validationErrors\n            }, {\n                status: 400\n            });\n        }\n        // Verificar se o material existe\n        const material = await prisma.material.findUnique({\n            where: {\n                id: materialId\n            }\n        });\n        if (!material) {\n            console.log(\"POST /api/movements - Material n\\xe3o encontrado:\", materialId);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Material n\\xe3o encontrado.\"\n            }, {\n                status: 404\n            });\n        }\n        console.log(\"POST /api/movements - Material encontrado:\", material);\n        // Verificar se o projeto existe\n        const project = await prisma.project.findUnique({\n            where: {\n                id: projectId\n            }\n        });\n        if (!project) {\n            console.log(\"POST /api/movements - Projeto n\\xe3o encontrado:\", projectId);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Projeto n\\xe3o encontrado.\"\n            }, {\n                status: 404\n            });\n        }\n        console.log(\"POST /api/movements - Projeto encontrado:\", project);\n        // Verificar se o usuário existe\n        const user = await prisma.user.findUnique({\n            where: {\n                id: userId\n            }\n        });\n        if (!user) {\n            console.log(\"POST /api/movements - Usu\\xe1rio n\\xe3o encontrado:\", userId);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Usu\\xe1rio n\\xe3o encontrado.\"\n            }, {\n                status: 404\n            });\n        }\n        console.log(\"POST /api/movements - Usu\\xe1rio encontrado:\", user);\n        // Mapear tipo de movimentação\n        const movementType = type === \"entrada\" ? \"entry\" : \"exit\";\n        console.log(\"POST /api/movements - Tipo mapeado:\", {\n            original: type,\n            mapped: movementType\n        });\n        // Criar nova movimentação\n        const newMovement = await prisma.movementRecord.create({\n            data: {\n                quantity: parseFloat(quantity),\n                type: movementType,\n                userId: userId,\n                materialId: materialId,\n                projectId: projectId\n            },\n            include: {\n                user: {\n                    select: {\n                        name: true\n                    }\n                },\n                material: {\n                    select: {\n                        name: true,\n                        type: true\n                    }\n                }\n            }\n        });\n        console.log(\"POST /api/movements - Movimenta\\xe7\\xe3o criada:\", newMovement);\n        // Atualizar quantidade do material\n        const newQuantity = type === \"entrada\" ? material.currentQuantity + parseFloat(quantity) : material.currentQuantity - parseFloat(quantity);\n        console.log(\"POST /api/movements - Atualizando quantidade do material:\", {\n            materialId,\n            currentQuantity: material.currentQuantity,\n            delta: type === \"entrada\" ? parseFloat(quantity) : -parseFloat(quantity),\n            newQuantity: Math.max(0, newQuantity)\n        });\n        await prisma.material.update({\n            where: {\n                id: materialId\n            },\n            data: {\n                currentQuantity: Math.max(0, newQuantity)\n            }\n        });\n        console.log(\"POST /api/movements - Quantidade do material atualizada\");\n        // Retornar movimentação criada no formato esperado pelo frontend\n        const movementResponse = {\n            id: newMovement.id,\n            userId: newMovement.userId,\n            userName: newMovement.user.name || \"Usu\\xe1rio\",\n            actionType: newMovement.type === \"entry\" ? \"entrada\" : \"sa\\xedda\",\n            materialId: newMovement.materialId,\n            materialName: newMovement.material.name,\n            materialCategory: newMovement.material.type || \"Geral\",\n            quantity: newMovement.quantity,\n            date: newMovement.timestamp,\n            location: \"Local do Projeto\",\n            justification: justification\n        };\n        console.log(\"POST /api/movements - Retornando resposta:\", movementResponse);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(movementResponse, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"POST /api/movements - Erro ao criar movimenta\\xe7\\xe3o:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Erro interno do servidor.\"\n        }, {\n            status: 500\n        });\n    } finally{\n        await prisma.$disconnect();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RjtRQUVBbkIsUUFBUUksR0FBRyxDQUFDO1FBRVosaUVBQWlFO1FBQ2pFLE1BQU1xQixtQkFBbUI7WUFDdkJyQyxJQUFJMkIsWUFBWTNCLEVBQUU7WUFDbEJDLFFBQVEwQixZQUFZMUIsTUFBTTtZQUMxQkMsVUFBVXlCLFlBQVlyQyxJQUFJLENBQUNFLElBQUksSUFBSTtZQUNuQ1csWUFBWXdCLFlBQVlqQyxJQUFJLEtBQUssVUFBVSxZQUFZO1lBQ3ZEVSxZQUFZdUIsWUFBWXZCLFVBQVU7WUFDbENDLGNBQWNzQixZQUFZbEMsUUFBUSxDQUFDRCxJQUFJO1lBQ3ZDYyxrQkFBa0JxQixZQUFZbEMsUUFBUSxDQUFDQyxJQUFJLElBQUk7WUFDL0NhLFVBQVVvQixZQUFZcEIsUUFBUTtZQUM5QkMsTUFBTW1CLFlBQVkvQixTQUFTO1lBQzNCYSxVQUFVO1lBQ1ZDLGVBQWVBO1FBQ2pCO1FBRUFFLFFBQVFJLEdBQUcsQ0FBQyw4Q0FBOENxQjtRQUMxRCxPQUFPakUscURBQVlBLENBQUNVLElBQUksQ0FBQ3VELGtCQUFrQjtZQUFFckQsUUFBUTtRQUFJO0lBRTNELEVBQUUsT0FBTzJCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJEQUFxREE7UUFDbkUsT0FBT3ZDLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7UUFBNEIsR0FDdkM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCLFNBQVU7UUFDUixNQUFNVixPQUFPdUMsV0FBVztJQUMxQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvbW92ZW1lbnRzL3JvdXRlLnRzPzdhYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3QgcHJvamVjdElkID0gc2VhcmNoUGFyYW1zLmdldCgncHJvamVjdElkJylcblxuICAgIGlmICghcHJvamVjdElkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0lEIGRvIHByb2pldG8gw6kgb2JyaWdhdMOzcmlvLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQnVzY2FyIG1vdmltZW50YcOnw7VlcyBkbyBwcm9qZXRvIGVzcGVjw61maWNvXG4gICAgY29uc3QgbW92ZW1lbnRzID0gYXdhaXQgcHJpc21hLm1vdmVtZW50UmVjb3JkLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdElkXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiB7XG4gICAgICAgIHRpbWVzdGFtcDogJ2Rlc2MnXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFRyYW5zZm9ybWFyIGRhZG9zIHBhcmEgbyBmb3JtYXRvIGVzcGVyYWRvIHBlbG8gZnJvbnRlbmRcbiAgICBjb25zdCB0cmFuc2Zvcm1lZE1vdmVtZW50cyA9IG1vdmVtZW50cy5tYXAobW92ZW1lbnQgPT4gKHtcbiAgICAgIGlkOiBtb3ZlbWVudC5pZCxcbiAgICAgIHVzZXJJZDogbW92ZW1lbnQudXNlcklkLFxuICAgICAgdXNlck5hbWU6IG1vdmVtZW50LnVzZXIubmFtZSB8fCAnVXN1w6FyaW8nLFxuICAgICAgYWN0aW9uVHlwZTogbW92ZW1lbnQudHlwZSA9PT0gJ2VudHJ5JyA/ICdlbnRyYWRhJyA6ICdzYcOtZGEnLFxuICAgICAgbWF0ZXJpYWxJZDogbW92ZW1lbnQubWF0ZXJpYWxJZCxcbiAgICAgIG1hdGVyaWFsTmFtZTogbW92ZW1lbnQubWF0ZXJpYWwubmFtZSxcbiAgICAgIG1hdGVyaWFsQ2F0ZWdvcnk6IG1vdmVtZW50Lm1hdGVyaWFsLnR5cGUgfHwgJ0dlcmFsJyxcbiAgICAgIHF1YW50aXR5OiBtb3ZlbWVudC5xdWFudGl0eSxcbiAgICAgIGRhdGU6IG1vdmVtZW50LnRpbWVzdGFtcCxcbiAgICAgIGxvY2F0aW9uOiAnTG9jYWwgZG8gUHJvamV0bycsIC8vIENhbXBvIG7Do28gZXhpc3RlIG5vIHNjaGVtYSBhdHVhbFxuICAgICAganVzdGlmaWNhdGlvbjogJ01vdmltZW50YcOnw6NvIGRlIGVzdG9xdWUnIC8vIENhbXBvIG7Do28gZXhpc3RlIG5vIHNjaGVtYSBhdHVhbFxuICAgIH0pKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHRyYW5zZm9ybWVkTW92ZW1lbnRzKVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBidXNjYXIgbW92aW1lbnRhw6fDtWVzOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgbWVzc2FnZTogJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvci4nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgcHJpc21hLiRkaXNjb25uZWN0KClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvbW92ZW1lbnRzIC0gQm9keSByZWNlYmlkbzonLCBib2R5KVxuICAgIFxuICAgIGNvbnN0IHsgXG4gICAgICBxdWFudGl0eSwgXG4gICAgICB0eXBlLCBcbiAgICAgIHVzZXJJZCwgXG4gICAgICBtYXRlcmlhbElkLCBcbiAgICAgIHByb2plY3RJZCxcbiAgICAgIGp1c3RpZmljYXRpb24gPSAnTW92aW1lbnRhw6fDo28gZGUgZXN0b3F1ZSdcbiAgICB9ID0gYm9keVxuXG4gICAgY29uc29sZS5sb2coJ1BPU1QgL2FwaS9tb3ZlbWVudHMgLSBEYWRvcyBleHRyYcOtZG9zOicsIHtcbiAgICAgIHF1YW50aXR5LCBcbiAgICAgIHR5cGUsIFxuICAgICAgdXNlcklkLCBcbiAgICAgIG1hdGVyaWFsSWQsIFxuICAgICAgcHJvamVjdElkLFxuICAgICAganVzdGlmaWNhdGlvblxuICAgIH0pXG5cbiAgICAvLyBWYWxpZGHDp8OjbyBkZXRhbGhhZGEgZG9zIGNhbXBvcyBvYnJpZ2F0w7NyaW9zXG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IFtdXG4gICAgXG4gICAgaWYgKCFxdWFudGl0eSAmJiBxdWFudGl0eSAhPT0gMCkge1xuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdRdWFudGlkYWRlIMOpIG9icmlnYXTDs3JpYScpXG4gICAgfVxuICAgIGlmICghdHlwZSkge1xuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdUaXBvIMOpIG9icmlnYXTDs3JpbycpXG4gICAgfVxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJ1VzdcOhcmlvIMOpIG9icmlnYXTDs3JpbycpXG4gICAgfVxuICAgIGlmICghbWF0ZXJpYWxJZCkge1xuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdNYXRlcmlhbCDDqSBvYnJpZ2F0w7NyaW8nKVxuICAgIH1cbiAgICBpZiAoIXByb2plY3RJZCkge1xuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdQcm9qZXRvIMOpIG9icmlnYXTDs3JpbycpXG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coJ1BPU1QgL2FwaS9tb3ZlbWVudHMgLSBWYWxpZGHDp8OjbyBmYWxob3U6JywgdmFsaWRhdGlvbkVycm9ycylcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBtZXNzYWdlOiAnQ2FtcG9zIG9icmlnYXTDs3Jpb3MgbsOjbyBwcmVlbmNoaWRvczogJyArIHZhbGlkYXRpb25FcnJvcnMuam9pbignLCAnKSxcbiAgICAgICAgICBlcnJvcnM6IHZhbGlkYXRpb25FcnJvcnNcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gVmVyaWZpY2FyIHNlIG8gbWF0ZXJpYWwgZXhpc3RlXG4gICAgY29uc3QgbWF0ZXJpYWwgPSBhd2FpdCBwcmlzbWEubWF0ZXJpYWwuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZDogbWF0ZXJpYWxJZCB9XG4gICAgfSlcblxuICAgIGlmICghbWF0ZXJpYWwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvbW92ZW1lbnRzIC0gTWF0ZXJpYWwgbsOjbyBlbmNvbnRyYWRvOicsIG1hdGVyaWFsSWQpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ01hdGVyaWFsIG7Do28gZW5jb250cmFkby4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvbW92ZW1lbnRzIC0gTWF0ZXJpYWwgZW5jb250cmFkbzonLCBtYXRlcmlhbClcblxuICAgIC8vIFZlcmlmaWNhciBzZSBvIHByb2pldG8gZXhpc3RlXG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5wcm9qZWN0LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RJZCB9XG4gICAgfSlcblxuICAgIGlmICghcHJvamVjdCkge1xuICAgICAgY29uc29sZS5sb2coJ1BPU1QgL2FwaS9tb3ZlbWVudHMgLSBQcm9qZXRvIG7Do28gZW5jb250cmFkbzonLCBwcm9qZWN0SWQpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ1Byb2pldG8gbsOjbyBlbmNvbnRyYWRvLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1BPU1QgL2FwaS9tb3ZlbWVudHMgLSBQcm9qZXRvIGVuY29udHJhZG86JywgcHJvamVjdClcblxuICAgIC8vIFZlcmlmaWNhciBzZSBvIHVzdcOhcmlvIGV4aXN0ZVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfVxuICAgIH0pXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvbW92ZW1lbnRzIC0gVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvOicsIHVzZXJJZClcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1BPU1QgL2FwaS9tb3ZlbWVudHMgLSBVc3XDoXJpbyBlbmNvbnRyYWRvOicsIHVzZXIpXG5cbiAgICAvLyBNYXBlYXIgdGlwbyBkZSBtb3ZpbWVudGHDp8Ojb1xuICAgIGNvbnN0IG1vdmVtZW50VHlwZSA9IHR5cGUgPT09ICdlbnRyYWRhJyA/ICdlbnRyeScgOiAnZXhpdCdcbiAgICBjb25zb2xlLmxvZygnUE9TVCAvYXBpL21vdmVtZW50cyAtIFRpcG8gbWFwZWFkbzonLCB7IG9yaWdpbmFsOiB0eXBlLCBtYXBwZWQ6IG1vdmVtZW50VHlwZSB9KVxuXG4gICAgLy8gQ3JpYXIgbm92YSBtb3ZpbWVudGHDp8Ojb1xuICAgIGNvbnN0IG5ld01vdmVtZW50ID0gYXdhaXQgcHJpc21hLm1vdmVtZW50UmVjb3JkLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHF1YW50aXR5OiBwYXJzZUZsb2F0KHF1YW50aXR5KSxcbiAgICAgICAgdHlwZTogbW92ZW1lbnRUeXBlLFxuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgbWF0ZXJpYWxJZDogbWF0ZXJpYWxJZCxcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWRcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIG5hbWU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1hdGVyaWFsOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnUE9TVCAvYXBpL21vdmVtZW50cyAtIE1vdmltZW50YcOnw6NvIGNyaWFkYTonLCBuZXdNb3ZlbWVudClcblxuICAgIC8vIEF0dWFsaXphciBxdWFudGlkYWRlIGRvIG1hdGVyaWFsXG4gICAgY29uc3QgbmV3UXVhbnRpdHkgPSB0eXBlID09PSAnZW50cmFkYScgXG4gICAgICA/IG1hdGVyaWFsLmN1cnJlbnRRdWFudGl0eSArIHBhcnNlRmxvYXQocXVhbnRpdHkpXG4gICAgICA6IG1hdGVyaWFsLmN1cnJlbnRRdWFudGl0eSAtIHBhcnNlRmxvYXQocXVhbnRpdHkpXG5cbiAgICBjb25zb2xlLmxvZygnUE9TVCAvYXBpL21vdmVtZW50cyAtIEF0dWFsaXphbmRvIHF1YW50aWRhZGUgZG8gbWF0ZXJpYWw6Jywge1xuICAgICAgbWF0ZXJpYWxJZCxcbiAgICAgIGN1cnJlbnRRdWFudGl0eTogbWF0ZXJpYWwuY3VycmVudFF1YW50aXR5LFxuICAgICAgZGVsdGE6IHR5cGUgPT09ICdlbnRyYWRhJyA/IHBhcnNlRmxvYXQocXVhbnRpdHkpIDogLXBhcnNlRmxvYXQocXVhbnRpdHkpLFxuICAgICAgbmV3UXVhbnRpdHk6IE1hdGgubWF4KDAsIG5ld1F1YW50aXR5KVxuICAgIH0pXG5cbiAgICBhd2FpdCBwcmlzbWEubWF0ZXJpYWwudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBtYXRlcmlhbElkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGN1cnJlbnRRdWFudGl0eTogTWF0aC5tYXgoMCwgbmV3UXVhbnRpdHkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCdQT1NUIC9hcGkvbW92ZW1lbnRzIC0gUXVhbnRpZGFkZSBkbyBtYXRlcmlhbCBhdHVhbGl6YWRhJylcblxuICAgIC8vIFJldG9ybmFyIG1vdmltZW50YcOnw6NvIGNyaWFkYSBubyBmb3JtYXRvIGVzcGVyYWRvIHBlbG8gZnJvbnRlbmRcbiAgICBjb25zdCBtb3ZlbWVudFJlc3BvbnNlID0ge1xuICAgICAgaWQ6IG5ld01vdmVtZW50LmlkLFxuICAgICAgdXNlcklkOiBuZXdNb3ZlbWVudC51c2VySWQsXG4gICAgICB1c2VyTmFtZTogbmV3TW92ZW1lbnQudXNlci5uYW1lIHx8ICdVc3XDoXJpbycsXG4gICAgICBhY3Rpb25UeXBlOiBuZXdNb3ZlbWVudC50eXBlID09PSAnZW50cnknID8gJ2VudHJhZGEnIDogJ3Nhw61kYScsXG4gICAgICBtYXRlcmlhbElkOiBuZXdNb3ZlbWVudC5tYXRlcmlhbElkLFxuICAgICAgbWF0ZXJpYWxOYW1lOiBuZXdNb3ZlbWVudC5tYXRlcmlhbC5uYW1lLFxuICAgICAgbWF0ZXJpYWxDYXRlZ29yeTogbmV3TW92ZW1lbnQubWF0ZXJpYWwudHlwZSB8fCAnR2VyYWwnLFxuICAgICAgcXVhbnRpdHk6IG5ld01vdmVtZW50LnF1YW50aXR5LFxuICAgICAgZGF0ZTogbmV3TW92ZW1lbnQudGltZXN0YW1wLFxuICAgICAgbG9jYXRpb246ICdMb2NhbCBkbyBQcm9qZXRvJyxcbiAgICAgIGp1c3RpZmljYXRpb246IGp1c3RpZmljYXRpb25cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnUE9TVCAvYXBpL21vdmVtZW50cyAtIFJldG9ybmFuZG8gcmVzcG9zdGE6JywgbW92ZW1lbnRSZXNwb25zZSlcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24obW92ZW1lbnRSZXNwb25zZSwgeyBzdGF0dXM6IDIwMSB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUE9TVCAvYXBpL21vdmVtZW50cyAtIEVycm8gYW8gY3JpYXIgbW92aW1lbnRhw6fDo286JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBtZXNzYWdlOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yLicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCBwcmlzbWEuJGRpc2Nvbm5lY3QoKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInByb2plY3RJZCIsImdldCIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwibW92ZW1lbnRzIiwibW92ZW1lbnRSZWNvcmQiLCJmaW5kTWFueSIsIndoZXJlIiwiaW5jbHVkZSIsInVzZXIiLCJzZWxlY3QiLCJuYW1lIiwibWF0ZXJpYWwiLCJ0eXBlIiwib3JkZXJCeSIsInRpbWVzdGFtcCIsInRyYW5zZm9ybWVkTW92ZW1lbnRzIiwibWFwIiwibW92ZW1lbnQiLCJpZCIsInVzZXJJZCIsInVzZXJOYW1lIiwiYWN0aW9uVHlwZSIsIm1hdGVyaWFsSWQiLCJtYXRlcmlhbE5hbWUiLCJtYXRlcmlhbENhdGVnb3J5IiwicXVhbnRpdHkiLCJkYXRlIiwibG9jYXRpb24iLCJqdXN0aWZpY2F0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiJGRpc2Nvbm5lY3QiLCJQT1NUIiwiYm9keSIsImxvZyIsInZhbGlkYXRpb25FcnJvcnMiLCJwdXNoIiwibGVuZ3RoIiwiam9pbiIsImVycm9ycyIsImZpbmRVbmlxdWUiLCJwcm9qZWN0IiwibW92ZW1lbnRUeXBlIiwib3JpZ2luYWwiLCJtYXBwZWQiLCJuZXdNb3ZlbWVudCIsImNyZWF0ZSIsImRhdGEiLCJwYXJzZUZsb2F0IiwibmV3UXVhbnRpdHkiLCJjdXJyZW50UXVhbnRpdHkiLCJkZWx0YSIsIk1hdGgiLCJtYXgiLCJ1cGRhdGUiLCJtb3ZlbWVudFJlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/movements/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmovements%2Froute&page=%2Fapi%2Fmovements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmovements%2Froute.ts&appDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjvalegri%2Ftcc-jvalegri-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();